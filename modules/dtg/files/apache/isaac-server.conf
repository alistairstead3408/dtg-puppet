<VirtualHost *:80>
        ServerAdmin sac92@cam.ac.uk
        ServerName www.cl.cam.ac.uk
        
        DocumentRoot /var/isaac-app/app/
        <Directory /var/isaac-app/app/>
                Options FollowSymLinks MultiViews ExecCGI
                AllowOverride All
                Require all granted
        </Directory>

        DirectoryIndex index.html
        
        Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"

        SetEnvIf Origin "^(.*)$" ISAAC_ORIGIN=$1        
        Header set Access-Control-Allow-Origin "%{ISAAC_ORIGIN}e"
        Header set Access-Control-Allow-Methods "GET, HEAD, POST, PUT, DELETE, OPTIONS"
        Header set Access-Control-Allow-Credentials "true"

        ProxyPass  /api    http://localhost:8080/isaac-api/api
        ProxyPassReverse  /api    http://localhost:8080/isaac-api/api
        ProxyPassReverseCookiePath / /

        ErrorLog /var/log/apache2/error.log

        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
        LogLevel warn

        CustomLog /var/log/apache2/access.log combined

</VirtualHost>
